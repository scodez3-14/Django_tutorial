{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Demo — Django styles</title>
  <link rel="stylesheet" href="{% static 'styles.css' %}">
  <style>
    /* tiny page-level tweak for the demo */
    main{margin-top:1rem}
  </style>
</head>
<body>
  <div class="container">
    <header class="site-header">
      <div class="brand">
        <div class="logo fade-up" aria-hidden="true"></div>
        <div>
          <div class="site-title">Django Demo</div>
          <div class="site-sub">A small visual demo of the stylesheet</div>
        </div>
      </div>
      <nav class="main-nav">
        <a href="#">Home</a>
        <a href="#features">Features</a>
        <a href="#polls">Polls</a>
      </nav>
    </header>

    <main>
      <section class="card hero fade-up">
        <h2>Welcome</h2>
        <p class="lead">This demo shows the responsive layout, components and animations included in <code>styles.css</code>.</p>
        <p class="space-x-2">
          <a class="btn" href="#features">Explore</a>
          <a class="btn secondary" href="#polls">Open Polls</a>
        </p>
      </section>

      <section id="features" class="card fade-up">
        <h2>Components</h2>
        <div class="grid-2">
          <div>
            <h3>Form</h3>
            <form>
              <label>Email
                <input class="form-control" type="email" placeholder="you@example.com">
              </label>
              <div style="margin-top:.5rem">
                <button class="btn" type="button">Subscribe</button>
                <button class="btn ghost" type="button">Maybe later</button>
              </div>
            </form>
          </div>
          <div>
            <h3>Table</h3>
            <table>
              <thead><tr><th>Item</th><th>Status</th></tr></thead>
              <tbody>
                <tr><td>Build layout</td><td class="muted">Done</td></tr>
                <tr><td>Add animations</td><td class="muted">In progress</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="polls" class="card fade-up">
        <h2>Polls</h2>
        <div class="poll-list">
          <div class="poll-item">
            <div>Which distro?</div>
            <div class="space-x-2"><button class="btn">Arch</button><button class="btn secondary">Ubuntu</button></div>
          </div>
          <div class="poll-item">
            <div>Favorite editor?</div>
            <div class="space-x-2"><button class="btn">VS Code</button><button class="btn secondary">Vim</button></div>
          </div>
        </div>
      </section>

      <section class="card fade-up">
        <h2>Alerts & small helpers</h2>
        <div class="alert info">This is an information alert.</div>
        <div style="height:8px"></div>
        <div class="alert success">Looks good — success alert.</div>
        <div style="height:8px"></div>
        <div class="alert danger">Error — danger alert.</div>
      </section>
    </main>

    <footer class="site-footer">
      Built for demo — <span class="small muted">Try resizing your window or tabbing through links to see focus and responsive states.</span>
    </footer>
  </div>

  <script>
    // Small helper to add `in-view` to fade-up elements when they enter the viewport.
    (function(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(prefersReduced) return;

      const els = document.querySelectorAll('.fade-up');
      if('IntersectionObserver' in window){
        const obs = new IntersectionObserver((entries, o)=>{
          entries.forEach(e=>{
            if(e.isIntersecting){
              e.target.classList.add('in-view');
              o.unobserve(e.target);
            }
          })
        },{threshold:0.12});
        els.forEach(el=>obs.observe(el));
      }else{
        // fallback: simply set visible
        els.forEach(el=>el.classList.add('in-view'))
      }

      // small interaction: toggle .show on poll items to demo stagger
      document.querySelectorAll('.poll-list .poll-item').forEach((item,i)=>{
        setTimeout(()=>item.classList.add('show'), 160 + i*120);
      })
    })();
  </script>
</body>
</html>